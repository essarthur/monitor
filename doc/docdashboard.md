# API for Inform Dashboard
Сервис предназначен для отображения основных показателей работы сети по разной видом нагрузки.
----

**Назначение** - мониторинг основных показателей сети.
На дашборде будет отображаться инфорамция указанная ниже.
Некоторые параметры будут задаваться вручную, которые указаны ниже.
Количество информации может меняться в последующем.

#### Краткое описание.
* Время опроса сервиса каждую секунду    
* Сервис собирает необходимую информацию в сети и выдает в виде JSON формата.  
* При возинкновении ошибки будет выдана ошибка в поле ststus
* Управление количеством запускаемых транзакций (*ввод с формы*)   
* Управление количеством задействованных шард (*ввод с формы*)   
* На форме предполагается получение данных от сервиса посредством AJAX запроса
* В дальнейшем (при необходимости) можно получить исторические данные о работе сети


### Техническая спецификация
|Val|Description|
|----|------|
|**IP**|Уточняется у администратора|   
|**8547**|По умолчанию|   
|**1 сек**|По умолчанию частота обращения к сервису|   


#### Ошибки :
|Error|Description|
|----|------|
|**success**|вес ок|   
|**error** |Ошибка обработки запроса  
|**info**|Информация о сервисе   
|**no response**|сеть недоступна    



### Показ инфорамции текущем состоянии:
|Val|Description|
|----|------|
|**TPS**|количество транзакций обрабатываемых сетью|
|**Shard**|Количество задействованных шард|
|**Tx**|Количество транзакций обрабатываемых сетью|
|**TimeTx**|Время прохождения одной транзакции|

#### POST Input 
1. Установка количества транзакций
2. Установка количества шард

#### GET Return
1. Получение TPS
2. Количества транзакций
3. Количества нод
4. Количсетва шард
5. Время прохождения одной транзакции

#### Получение информации от сервера для дашборда
----
Method (**GET**)   


**.../api/output/**


Return :
```json
{
  "id":       123446,
  "tps":      10,
  "shard":    20,
  "txcount":  1000,
  "time":     "2018-12-25 15:34:45",
  "status":   "success"
  }
```

#### Установка количества шард 
----
Method (**POST**)    

**.../api/set/shard/{{count}}**    

Return :
**{"status":"ok", "id":11234}**   

#### Установка количества транзакций
----
Method (**POST**)   

**.../api/set/tx/{{count}}**   


Return :    
{"status":"ok", "id":11235}   


#### Количество транзакций в пуле
----
Показывает количество транзакций ожидающих блок

Method (**GET**)   


**.../api/pool/**


Return
```json
{
  "id":       123446,
  "txcount":  1000,
  "time":     "2018-12-25 15:34:45",
  "status":   "success"
  }
```

#### Самый свежий блок в сети
Показывает номер блока на текущий момент

Method (**GET**)   

**.../api/block/**

Return
```json
{
  "id":       123446,
  "numblock":  1000,
  "time":     "2018-12-25 15:34:45",
  "status":   "success"
  }
```




